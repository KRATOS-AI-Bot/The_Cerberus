
import os

class CerberusIgnore:
    def __init__(self, filename='.cerberusignore'):
        self.filename = filename
        self.ignored_paths = self.load_ignored_paths()

    def load_ignored_paths(self):
        try:
            with open(self.filename, 'r') as f:
                return [line.strip() for line in f.readlines()]
        except FileNotFoundError:
            return []

    def is_ignored(self, path):
        for ignored_path in self.ignored_paths:
            if path.startswith(ignored_path):
                return True
        return False

    def add_ignored_path(self, path):
        if path not in self.ignored_paths:
            self.ignored_paths.append(path)
            self.save_ignored_paths()

    def save_ignored_paths(self):
        with open(self.filename, 'w') as f:
            for path in self.ignored_paths:
                f.write(path + '\n')

    def remove_ignored_path(self, path):
        if path in self.ignored_paths:
            self.ignored_paths.remove(path)
            self.save_ignored_paths()

def main():
    ignore = CerberusIgnore()
    while True:
        print("1. Add ignored path")
        print("2. Remove ignored path")
        print("3. List ignored paths")
        print("4. Exit")
        choice = input("Choose an option: ")
        if choice == '1':
            path = input("Enter path to ignore: ")
            ignore.add_ignored_path(path)
        elif choice == '2':
            path = input("Enter path to remove: ")
            ignore.remove_ignored_path(path)
        elif choice == '3':
            print("Ignored paths:")
            for path in ignore.ignored_paths:
                print(path)
        elif choice == '4':
            break
        else:
            print("Invalid choice. Please choose again.")

if __name__ == '__main__':
    main()
