
import os
import re

class CerberusIgnore:
    def __init__(self, file_path):
        self.file_path = file_path
        self.ignore_patterns = self.load_ignore_patterns()

    def load_ignore_patterns(self):
        try:
            with open(self.file_path, 'r') as f:
                return [line.strip() for line in f.readlines()]
        except FileNotFoundError:
            return []

    def is_ignored(self, path):
        for pattern in self.ignore_patterns:
            if re.match(pattern, path):
                return True
        return False

def load_cerberusignore(root_dir):
    cerberusignore_path = os.path.join(root_dir, '.cerberusignore')
    return CerberusIgnore(cerberusignore_path)

def is_ignored(cerberusignore, path):
    return cerberusignore.is_ignored(path)
